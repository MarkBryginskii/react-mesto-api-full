{"ast":null,"code":"var _jsxFileName = \"/Users/markbryginskij/Desktop/Yandex.Projects/mesto-react/src/components/App.js\";\nimport React from 'react';\nimport logo from \"./images/header-logo.svg\";\nimport Header from './Header.js';\nimport Main from './Main.js';\nimport Footer from './Footer.js';\nimport PopupWithForm from './PopupWithForm.js';\nimport ImagePopup from './ImagePopup';\nimport EditProfilePopup from './EditProfilePopup.js';\nimport EditAvatarPopup from './EditAvatarPopup.js';\nimport AddPlacePopup from './AddPlacePopup';\nimport appApi from '../utils/Api.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\n\nconst App = () => {\n  const [currentUser, setCurrentUser] = React.useState('');\n  React.useEffect(() => {\n    appApi.getUserInfo().then(userData => {\n      setCurrentUser(userData);\n    });\n  }, []);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isImagePopupOpen, setIsImagePopupOpen] = React.useState(false);\n  const [isConfirmPopupOpen, setIsConfirmPopupOpen] = React.useState(false);\n  const [cards, setCards] = React.useState([]);\n\n  const handleCardLike = card => {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    (isLiked ? appApi.removeCardLike(card._id) : appApi.addCardLike(card._id)).then(newCard => {\n      const newCards = cards.map(c => c._id === card._id ? newCard : c);\n      setCards(newCards);\n    });\n  };\n\n  const handleCardDelete = card => {\n    appApi.deleteCard(card._id).then(() => {\n      const newCards = cards.filter(c => c._id !== card._id);\n      setCards(newCards);\n    });\n  };\n\n  React.useEffect(() => {\n    appApi.getInitialCards().then(cards => {\n      setCards(cards);\n    });\n  }, []);\n  const [selectedCard, setSelectedCard] = React.useState();\n\n  const handleEditAvatarClick = () => {\n    setIsEditAvatarPopupOpen(!isEditAvatarPopupOpen);\n  };\n\n  const handleEditProfileClick = () => {\n    setIsEditProfilePopupOpen(!isEditProfilePopupOpen);\n  };\n\n  const handleAddPlaceClick = () => {\n    setIsAddPlacePopupOpen(!isAddPlacePopupOpen);\n  };\n\n  const handleCardClick = card => {\n    setSelectedCard(card);\n  };\n\n  const closeAllPopups = () => {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsImagePopupOpen(false);\n    setSelectedCard(null);\n  };\n\n  const handleUpdateUser = ({\n    name,\n    about\n  }) => {\n    appApi.setUserInfo({\n      name,\n      about\n    }).then(userData => {\n      console.log(userData);\n      setCurrentUser(userData);\n    });\n    closeAllPopups();\n  };\n\n  const handleUpdateAvatar = ({\n    avatar\n  }) => {\n    appApi.setUserAvatar({\n      avatar\n    }).then(userData => {\n      setCurrentUser(userData);\n    });\n    closeAllPopups();\n  };\n\n  const handleAddPlaceSubmit = () => {\n    appApi.addCard().then(newCard => {\n      setCards([...cards, newCard]);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(CurrentUserContext.Provider, {\n    value: currentUser,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"root\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    logo: logo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Main, {\n    onEditAvatarClick: handleEditAvatarClick,\n    onEditProfileClick: handleEditProfileClick,\n    onAddPlaceClick: handleAddPlaceClick,\n    cards: cards,\n    onCardClick: handleCardClick,\n    onCardLikeClick: handleCardLike,\n    onCardDeleteClick: handleCardDelete,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(EditAvatarPopup, {\n    isOpen: isEditAvatarPopupOpen,\n    onClose: closeAllPopups,\n    onUpdateAvatar: handleUpdateAvatar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(EditProfilePopup, {\n    isOpen: isEditProfilePopupOpen,\n    onClose: closeAllPopups,\n    onUpdateUser: handleUpdateUser,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(AddPlacePopup, {\n    isOpen: isAddPlacePopupOpen,\n    onClose: closeAllPopups,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(ImagePopup, {\n    card: selectedCard,\n    isOpen: isImagePopupOpen,\n    onClose: closeAllPopups,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default App;","map":{"version":3,"sources":["/Users/markbryginskij/Desktop/Yandex.Projects/mesto-react/src/components/App.js"],"names":["React","Header","Main","Footer","PopupWithForm","ImagePopup","EditProfilePopup","EditAvatarPopup","AddPlacePopup","appApi","CurrentUserContext","App","currentUser","setCurrentUser","useState","useEffect","getUserInfo","then","userData","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isImagePopupOpen","setIsImagePopupOpen","isConfirmPopupOpen","setIsConfirmPopupOpen","cards","setCards","handleCardLike","card","isLiked","likes","some","i","_id","removeCardLike","addCardLike","newCard","newCards","map","c","handleCardDelete","deleteCard","filter","getInitialCards","selectedCard","setSelectedCard","handleEditAvatarClick","handleEditProfileClick","handleAddPlaceClick","handleCardClick","closeAllPopups","handleUpdateUser","name","about","setUserInfo","console","log","handleUpdateAvatar","avatar","setUserAvatar","handleAddPlaceSubmit","addCard","logo"],"mappings":"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","sourcesContent":["import React from 'react';\nimport logo from './images/header-logo.svg';\nimport Header from './Header.js';\nimport Main from './Main.js';\nimport Footer from './Footer.js';\n\nimport PopupWithForm from './PopupWithForm.js';\nimport ImagePopup from './ImagePopup';\n\nimport EditProfilePopup from './EditProfilePopup.js';\nimport EditAvatarPopup from './EditAvatarPopup.js';\nimport AddPlacePopup from './AddPlacePopup';\n\nimport appApi from '../utils/Api.js';\n\nimport {CurrentUserContext} from '../contexts/CurrentUserContext.js';\n\nconst App = () => {\n\n  const [currentUser, setCurrentUser] = React.useState('');\n\n  React.useEffect( () => {\n    appApi.getUserInfo()\n    .then((userData) => {\n        setCurrentUser(userData);\n      });\n    }, []);\n\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isImagePopupOpen, setIsImagePopupOpen] = React.useState(false);\n\n  const [isConfirmPopupOpen, setIsConfirmPopupOpen] = React.useState(false);\n\n  const [cards, setCards] = React.useState([]);\n\n  const handleCardLike = (card) => {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    (isLiked ? appApi.removeCardLike(card._id) : appApi.addCardLike(card._id))\n    .then((newCard) => {\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n      setCards(newCards);\n    });\n  }\n\n  const handleCardDelete = (card) => {\n    appApi.deleteCard(card._id)\n    .then(() => {\n      const newCards = cards.filter((c) => c._id !== card._id);\n      setCards(newCards);\n    });\n  }\n\n  React.useEffect( () => {\n    appApi.getInitialCards()\n    .then((cards) => {\n      setCards(cards);\n      });\n    }, []);\n\n  const [selectedCard, setSelectedCard] = React.useState();\n\n  const handleEditAvatarClick = () => {\n    setIsEditAvatarPopupOpen(!isEditAvatarPopupOpen);\n  }\n\n  const handleEditProfileClick = () => {\n    setIsEditProfilePopupOpen(!isEditProfilePopupOpen);\n  }\n\n  const handleAddPlaceClick = () => {\n    setIsAddPlacePopupOpen(!isAddPlacePopupOpen);\n  }\n\n  const handleCardClick = (card) => {\n    setSelectedCard(card);\n  }\n\n  const closeAllPopups = () => {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsImagePopupOpen(false);\n    setSelectedCard(null);\n  }\n\n  const handleUpdateUser = ({name, about}) => {\n    appApi.setUserInfo({name, about})\n    .then((userData) => {\n      console.log(userData);\n      setCurrentUser(userData);});\n    closeAllPopups();\n  }\n\n  const handleUpdateAvatar = ({avatar}) => {\n    appApi.setUserAvatar({avatar})\n    .then((userData) => {\n      setCurrentUser(userData);});\n    closeAllPopups();\n  }\n\n  const handleAddPlaceSubmit = () => {\n    appApi.addCard()\n    .then((newCard) => {\n      setCards([...cards, newCard]);\n    });\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"root\">\n        <Header logo={logo} />\n        <Main\n          onEditAvatarClick={handleEditAvatarClick}\n          onEditProfileClick={handleEditProfileClick}\n          onAddPlaceClick={handleAddPlaceClick}\n          cards={cards}\n          onCardClick={handleCardClick}\n          onCardLikeClick={handleCardLike}\n          onCardDeleteClick={handleCardDelete}\n        />\n        <Footer />\n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\n        <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\n        <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} />\n        <ImagePopup card={selectedCard} isOpen={isImagePopupOpen} onClose={closeAllPopups} />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}