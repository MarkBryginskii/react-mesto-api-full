{"ast":null,"code":"class Api {\n  constructor(options) {\n    this._baseUrl = options.baseUrl;\n    this._headers = options.headers;\n  }\n\n  handleOriginalResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n\n    return Promise.reject(`Error : ${res.status}`);\n  }\n\n  getInitialCards() {\n    return fetch(this._baseUrl + \"/cards\", {\n      method: \"GET\",\n      headers: this._headers\n    }).then(res => this.handleOriginalResponse(res));\n  }\n\n  getUserInfo() {\n    return fetch(this._baseUrl + \"/users/me\", {\n      method: \"GET\",\n      headers: this._headers\n    }).then(res => this.handleOriginalResponse(res));\n  }\n\n  setUserInfo(userInfo) {\n    return fetch(this._baseUrl + \"/users/me\", {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: userInfo.name,\n        about: userInfo.about\n      })\n    }).then(res => this.handleOriginalResponse(res));\n  }\n\n  setUserAvatar(userInfo) {\n    return fetch(this._baseUrl + \"/users/me/avatar\", {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: userInfo.avatar\n      })\n    }).then(res => this.handleOriginalResponse(res));\n  }\n\n  addCard(newCard) {\n    return fetch(this._baseUrl + \"/cards\", {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: newCard.name,\n        link: newCard.link\n      })\n    }).then(res => this.handleOriginalResponse(res));\n  }\n\n  deleteCard(cardId) {\n    return fetch(this._baseUrl + \"/cards/\" + cardId, {\n      method: \"DELETE\",\n      headers: this._headers\n    }).then(res => this.handleOriginalResponse(res));\n  }\n\n  addCardLike(cardId) {\n    return fetch(this._baseUrl + \"/cards/likes/\" + cardId, {\n      method: \"PUT\",\n      headers: this._headers\n    }).then(res => this.handleOriginalResponse(res));\n  }\n\n  removeCardLike(cardId) {\n    return fetch(this._baseUrl + \"/cards/likes/\" + cardId, {\n      method: \"DELETE\",\n      headers: this._headers\n    }).then(res => this.handleOriginalResponse(res));\n  }\n\n}\n\nconst appApi = new Api({\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-14\",\n  headers: {\n    authorization: \"aa78f1a9-4e3b-428a-a9f7-5265cbc9b3da\",\n    \"Content-Type\": \"application/json\"\n  }\n});\nexport default appApi;","map":{"version":3,"sources":["/Users/markbryginskij/Desktop/Yandex.Projects/mesto-react/src/utils/Api.js"],"names":["Api","constructor","options","_baseUrl","baseUrl","_headers","headers","handleOriginalResponse","res","ok","json","Promise","reject","status","getInitialCards","fetch","method","then","getUserInfo","setUserInfo","userInfo","body","JSON","stringify","name","about","setUserAvatar","avatar","addCard","newCard","link","deleteCard","cardId","addCardLike","removeCardLike","appApi","authorization"],"mappings":"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","sourcesContent":["class Api {\n  constructor(options) {\n    this._baseUrl = options.baseUrl;\n    this._headers = options.headers;\n  }\n\n  handleOriginalResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Error : ${res.status}`);\n  }\n\n  getInitialCards() {\n    return fetch(this._baseUrl + \"/cards\", {\n      method: \"GET\",\n      headers: this._headers,\n    }).then((res) => this.handleOriginalResponse(res));\n  }\n\n  getUserInfo() {\n    return fetch(this._baseUrl + \"/users/me\", {\n      method: \"GET\",\n      headers: this._headers,\n    }).then((res) => this.handleOriginalResponse(res));\n  }\n\n  setUserInfo(userInfo) {\n    return fetch(this._baseUrl + \"/users/me\", {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: userInfo.name,\n        about: userInfo.about,\n      }),\n    }).then((res) => this.handleOriginalResponse(res));\n  }\n\n  setUserAvatar(userInfo) {\n    return fetch(this._baseUrl + \"/users/me/avatar\", {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: userInfo.avatar,\n      }),\n    }).then((res) => this.handleOriginalResponse(res));\n  }\n\n  addCard(newCard) {\n    return fetch(this._baseUrl + \"/cards\", {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: newCard.name,\n        link: newCard.link,\n      }),\n    }).then((res) => this.handleOriginalResponse(res));\n  }\n\n  deleteCard(cardId) {\n    return fetch(this._baseUrl + \"/cards/\" + cardId, {\n      method: \"DELETE\",\n      headers: this._headers,\n    }).then((res) => this.handleOriginalResponse(res));\n  }\n\n  addCardLike(cardId) {\n    return fetch(this._baseUrl + \"/cards/likes/\" + cardId, {\n      method: \"PUT\",\n      headers: this._headers,\n    }).then((res) => this.handleOriginalResponse(res));\n  }\n\n  removeCardLike(cardId) {\n    return fetch(this._baseUrl + \"/cards/likes/\" + cardId, {\n      method: \"DELETE\",\n      headers: this._headers,\n    }).then((res) => this.handleOriginalResponse(res));\n  }\n}\n\nconst appApi = new Api({\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-14\",\n  headers: {\n    authorization: \"aa78f1a9-4e3b-428a-a9f7-5265cbc9b3da\",\n    \"Content-Type\": \"application/json\",\n  },\n});\n\nexport default appApi;\n\n"]},"metadata":{},"sourceType":"module"}