{"ast":null,"code":"var _jsxFileName = \"/Users/markbryginskij/Desktop/Yandex.Projects/mesto-react/src/components/App.js\";\nimport React from 'react';\nimport logo from \"./images/header-logo.svg\";\nimport Header from './Header.js';\nimport Main from './Main.js';\nimport Footer from './Footer.js';\nimport PopupWithForm from './PopupWithForm.js';\nimport ImagePopup from './ImagePopup';\nimport EditProfilePopup from './EditProfilePopup.js';\nimport EditAvatarPopup from './EditAvatarPopup.js';\nimport appApi from '../utils/Api.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\n\nconst App = () => {\n  const [currentUser, setCurrentUser] = React.useState('');\n  React.useEffect(() => {\n    appApi.getUserInfo().then(userData => {\n      setCurrentUser(userData);\n    });\n  }, []);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isImagePopupOpen, setIsImagePopupOpen] = React.useState(false);\n  const [isConfirmPopupOpen, setIsConfirmPopupOpen] = React.useState(false);\n  const [cards, setCards] = React.useState([]);\n\n  const handleCardLike = card => {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    (isLiked ? appApi.removeCardLike(card._id) : appApi.addCardLike(card._id)).then(newCard => {\n      const newCards = cards.map(c => c._id === card._id ? newCard : c);\n      setCards(newCards);\n    });\n  };\n\n  const handleCardDelete = card => {\n    appApi.deleteCard(card._id).then(() => {\n      const newCards = cards.filter(c => c._id !== card._id);\n      setCards(newCards);\n    });\n  };\n\n  React.useEffect(() => {\n    appApi.getInitialCards().then(cards => {\n      setCards(cards);\n    });\n  }, []);\n  const [selectedCard, setSelectedCard] = React.useState();\n\n  const handleEditAvatarClick = () => {\n    setIsEditAvatarPopupOpen(!isEditAvatarPopupOpen);\n  };\n\n  const handleEditProfileClick = () => {\n    setIsEditProfilePopupOpen(!isEditProfilePopupOpen);\n  };\n\n  const handleAddPlaceClick = () => {\n    setIsAddPlacePopupOpen(!isAddPlacePopupOpen);\n  };\n\n  const handleCardClick = card => {\n    setSelectedCard(card);\n  };\n\n  const closeAllPopups = () => {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsImagePopupOpen(false);\n    setSelectedCard(null);\n  };\n\n  const handleUpdateUser = ({\n    name,\n    about\n  }) => {\n    appApi.setUserInfo({\n      name,\n      about\n    }).then(userData => {\n      console.log(userData);\n      setCurrentUser(userData);\n    });\n    closeAllPopups();\n  };\n\n  const handleUpdateAvatar = ({\n    avatar\n  }) => {\n    appApi.setUserAvatar({\n      avatar\n    }).then(userData => {\n      setCurrentUser(userData);\n    });\n    closeAllPopups();\n  };\n\n  return /*#__PURE__*/React.createElement(CurrentUserContext.Provider, {\n    value: currentUser,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"root\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    logo: logo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Main, {\n    onEditAvatarClick: handleEditAvatarClick,\n    onEditProfileClick: handleEditProfileClick,\n    onAddPlaceClick: handleAddPlaceClick,\n    onCardClick: handleCardClick,\n    onCardLikeClick: handleCardLike,\n    onCardDeleteClick: handleCardDelete,\n    cards: cards,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(EditAvatarPopup, {\n    isOpen: isEditAvatarPopupOpen,\n    onClose: closeAllPopups,\n    onUpdateAvatar: handleUpdateAvatar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(EditProfilePopup, {\n    isOpen: isEditProfilePopupOpen,\n    onClose: closeAllPopups,\n    onUpdateUser: handleUpdateUser,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(PopupWithForm, {\n    name: \"AddPhoto\",\n    title: \"\\u041D\\u043E\\u0432\\u043E\\u0435 \\u043C\\u0435\\u0441\\u0442\\u043E\",\n    popupSize: \"large\",\n    isOpen: isAddPlacePopupOpen,\n    onClose: closeAllPopups,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"popup__input-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    \"data-field-name\": \"name\",\n    id: \"popup__card-name\",\n    type: \"text\",\n    className: \"popup__text-field\",\n    autoFocus: true,\n    placeholder: \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\",\n    minLength: \"1\",\n    maxLength: \"30\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    id: \"popup__card-name-error\",\n    className: \"popup__input-error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"popup__input-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    \"data-field-name\": \"link\",\n    id: \"popup__card-link\",\n    type: \"url\",\n    className: \"popup__text-field\",\n    placeholder: \"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u043A\\u0430\\u0440\\u0442\\u0438\\u043D\\u043A\\u0443\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    id: \"popup__card-link-error\",\n    className: \"popup__input-error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"popup__save-button popup__save-button_disabled\",\n    disabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 11\n    }\n  }, \"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C\")), /*#__PURE__*/React.createElement(PopupWithForm, {\n    name: \"Confirm\",\n    title: \"\\u0412\\u044B \\u0443\\u0432\\u0435\\u0440\\u0435\\u043D\\u044B?\",\n    popupSize: \"small\",\n    isOpen: isConfirmPopupOpen,\n    onClose: closeAllPopups,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"popup__save-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 11\n    }\n  }, \"\\u0414\\u0430\")), /*#__PURE__*/React.createElement(ImagePopup, {\n    card: selectedCard,\n    isOpen: isImagePopupOpen,\n    onClose: closeAllPopups,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default App;","map":{"version":3,"sources":["/Users/markbryginskij/Desktop/Yandex.Projects/mesto-react/src/components/App.js"],"names":["React","Header","Main","Footer","PopupWithForm","ImagePopup","EditProfilePopup","EditAvatarPopup","appApi","CurrentUserContext","App","currentUser","setCurrentUser","useState","useEffect","getUserInfo","then","userData","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isImagePopupOpen","setIsImagePopupOpen","isConfirmPopupOpen","setIsConfirmPopupOpen","cards","setCards","handleCardLike","card","isLiked","likes","some","i","_id","removeCardLike","addCardLike","newCard","newCards","map","c","handleCardDelete","deleteCard","filter","getInitialCards","selectedCard","setSelectedCard","handleEditAvatarClick","handleEditProfileClick","handleAddPlaceClick","handleCardClick","closeAllPopups","handleUpdateUser","name","about","setUserInfo","console","log","handleUpdateAvatar","avatar","setUserAvatar","logo"],"mappings":"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","sourcesContent":["import React from 'react';\nimport logo from './images/header-logo.svg';\nimport Header from './Header.js';\nimport Main from './Main.js';\nimport Footer from './Footer.js';\n\nimport PopupWithForm from './PopupWithForm.js';\nimport ImagePopup from './ImagePopup';\n\nimport EditProfilePopup from './EditProfilePopup.js';\nimport EditAvatarPopup from './EditAvatarPopup.js';\n\nimport appApi from '../utils/Api.js';\n\nimport {CurrentUserContext} from '../contexts/CurrentUserContext.js';\n\nconst App = () => {\n\n  const [currentUser, setCurrentUser] = React.useState('');\n\n  React.useEffect( () => {\n    appApi.getUserInfo()\n    .then((userData) => {\n        setCurrentUser(userData);\n      });\n    }, []);\n\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isImagePopupOpen, setIsImagePopupOpen] = React.useState(false);\n\n  const [isConfirmPopupOpen, setIsConfirmPopupOpen] = React.useState(false);\n\n  const [cards, setCards] = React.useState([]);\n\n  const handleCardLike = (card) => {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    (isLiked ? appApi.removeCardLike(card._id) : appApi.addCardLike(card._id))\n    .then((newCard) => {\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n      setCards(newCards);\n    });\n  }\n\n  const handleCardDelete = (card) => {\n    appApi.deleteCard(card._id)\n    .then(() => {\n      const newCards = cards.filter((c) => c._id !== card._id);\n      setCards(newCards);\n    });\n  }\n\n  React.useEffect( () => {\n    appApi.getInitialCards()\n    .then((cards) => {\n      setCards(cards);\n      });\n    }, []);\n\n  const [selectedCard, setSelectedCard] = React.useState();\n\n  const handleEditAvatarClick = () => {\n    setIsEditAvatarPopupOpen(!isEditAvatarPopupOpen);\n  }\n\n  const handleEditProfileClick = () => {\n    setIsEditProfilePopupOpen(!isEditProfilePopupOpen);\n  }\n\n  const handleAddPlaceClick = () => {\n    setIsAddPlacePopupOpen(!isAddPlacePopupOpen);\n  }\n\n  const handleCardClick = (card) => {\n    setSelectedCard(card);\n  }\n\n  const closeAllPopups = () => {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsImagePopupOpen(false);\n    setSelectedCard(null);\n  }\n\n  const handleUpdateUser = ({name, about}) => {\n    appApi.setUserInfo({name, about})\n    .then((userData) => {\n      console.log(userData);\n      setCurrentUser(userData);});\n    closeAllPopups();\n  }\n\n  const handleUpdateAvatar = ({avatar}) => {\n    appApi.setUserAvatar({avatar})\n    .then((userData) => {\n      setCurrentUser(userData);});\n    closeAllPopups();\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"root\">\n        <Header logo={logo} />\n        <Main\n          onEditAvatarClick={handleEditAvatarClick}\n          onEditProfileClick={handleEditProfileClick}\n          onAddPlaceClick={handleAddPlaceClick}\n          onCardClick={handleCardClick}\n          onCardLikeClick={handleCardLike}\n          onCardDeleteClick={handleCardDelete}\n          cards={cards}\n        />\n        <Footer />\n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\n        <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\n        <PopupWithForm name=\"AddPhoto\" title=\"Новое место\" popupSize=\"large\" isOpen={isAddPlacePopupOpen} onClose={closeAllPopups}>\n          <div className=\"popup__input-container\">\n            <input data-field-name=\"name\" id=\"popup__card-name\" type=\"text\" className=\"popup__text-field\" autoFocus placeholder=\"Название\" minLength=\"1\" maxLength=\"30\" required />\n            <span id=\"popup__card-name-error\" className=\"popup__input-error\" />\n          </div>\n          <div className=\"popup__input-container\">\n            <input data-field-name=\"link\" id=\"popup__card-link\" type=\"url\" className=\"popup__text-field\" placeholder=\"Ссылка на картинку\" required />\n            <span id=\"popup__card-link-error\" className=\"popup__input-error\" />\n          </div>\n          <button type=\"submit\" className=\"popup__save-button popup__save-button_disabled\" disabled>Создать</button>\n        </PopupWithForm>\n        <PopupWithForm name=\"Confirm\" title=\"Вы уверены?\" popupSize=\"small\" isOpen={isConfirmPopupOpen} onClose={closeAllPopups}>\n          <button type=\"submit\" className=\"popup__save-button\">Да</button>\n        </PopupWithForm>\n        <ImagePopup card={selectedCard} isOpen={isImagePopupOpen} onClose={closeAllPopups} />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}